<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <link rel="stylesheet" type="text/css" href="css/login.css"/>
    </h:head>

    <h:body>
        <div class="leftPage">
            <div class="title">
                <h3>Welcome to the idea bank</h3>
            </div>
            <section class="loginContainer">
                <h:form id="login-form" class="loginSection">
                    <h2>Sign in</h2>
                    <p:growl id="messages" show-detail="true" />
                    <p:inputText value="#{loginBean.userName}" placeholder="Username" styleClass="nombre"/>
                    <p:password value="#{loginBean.password}" placeholder="Password" styleClass="contrasena"/>
                    <p:commandButton actionListener="#{loginBean.createUserAccount}" value="Create Account" icon="pi pi-user-plus" 
                        update=":dialogs:create-account-content" oncomplete="PF('createAccountDialog').show()">
                        <p:resetInput target=":dialogs:create-account-content" />
                    </p:commandButton>
                    <p:commandButton actionListener="#{loginBean.login}" value="Sign In" icon="pi pi-user" />
                </h:form>

                <h:form id="dialogs">
                    <p:dialog header="Create Account" showEffect="fade" modal="true" widgetVar="createAccountDialog"
                    responsive="true">
                        <p:outputPanel id="create-account-content" class="ui-fluid">
                            <p:outputPanel rendered="#{not empty loginBean.newUser}">
                                <div class="field">
                                    <p:inputTextarea id="full-name" required="true" placeholder="Full Name"
                                    value="#{loginBean.newUser.name}" />
                                </div>
                                <div class="field">
                                    <p:inputTextarea id="email" required="true" placeholder="Email"
                                    value="#{loginBean.newUser.mail}" />
                                </div>
                                <div class="field">
                                    <p:inputText id="password" type="password" required="true" 
                                    value="#{loginBean.newUser.password}" placeholder="password"/>
                                </div>
                                <div class="field">
                                    <p:selectOneMenu id="role" value="#{loginBean.newUser.profile}" label="Text 2" style="width: 12rem">
                                        <f:selectItem itemLabel="Select One" itemValue="" noSelectionOption="true"/>
                                        <f:selectItem itemLabel="Estudiante" itemValue="Estudiante"/>
                                        <f:selectItem itemLabel="Profesor" itemValue="Profesor"/>
                                        <f:selectItem itemLabel="Directivo" itemValue="Directivo"/>
                                    </p:selectOneMenu>
                                </div>
                            </p:outputPanel>
                            
                        </p:outputPanel>

                        <f:facet name="footer">
                            <p:commandButton value="Create" icon="pi pi-check" actionListener="#{loginBean.createAccount()}"
                                update="create-account-content" process="create-account-content @this"/>
                            <p:commandButton value="Cancel" icon="pi pi-times" onclick="PF('createAccountDialog').hide()"
                                class="ui-button-secondary" type="button" />
                        </f:facet>
                    </p:dialog>
                </h:form>
            </section>
            
            <br></br>
            <br></br>
            <br></br>
            <br></br>
            <div class="sponsor">
                <h2>Created by the besto team</h2>
                <img src="https://user-images.githubusercontent.com/4140058/233420265-c256dc29-a77d-4e69-86f2-9835850dcb53.png" 
                style="width:160px;height:120px;" class="teamImage"/>
            </div>
        </div>
        <div class="rightPage">
            <img src="https://img.pikbest.com/backgrounds/20190924/technology-background-with-blue-gradient-background-v_1559315jpg!bwr800"
            style="width:800px;height:761px;" class="menuImage"/>
        </div>
    </h:body>
</html>
